# üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π DevBlog

## –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä

### –õ–æ–∫–∞–ª—å–Ω–æ (—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞):
```bash
./view-stats.sh
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
ssh root@45.137.151.98
cd /var/www/devblog/server
node scripts/view-stats.js
```

## –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

### üë• –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (username)
- Email
- –†–æ–ª—å (reader/author/admin)
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### üåê –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π (Nginx)
- **–¢–æ–ø IP –∞–¥—Ä–µ—Å–æ–≤** - –∫—Ç–æ —á–∞—â–µ –≤—Å–µ–≥–æ –∑–∞—Ö–æ–¥–∏–ª
- **–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - –∫–∞–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–µ—â–∞—é—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Nginx –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
ssh root@45.137.151.98
tail -f /var/log/nginx/access.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```bash
ssh root@45.137.151.98
tail -50 /var/log/nginx/access.log
```

### –¢–æ–ø IP –∞–¥—Ä–µ—Å–æ–≤:
```bash
ssh root@45.137.151.98
awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -rn | head -20
```

### –ü–æ–∏—Å–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ IP:
```bash
ssh root@45.137.151.98
grep "IP_–ê–î–†–ï–°" /var/log/nginx/access.log | tail -20
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (PM2):
```bash
ssh root@45.137.151.98
pm2 logs devblog --lines 50
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
ssh root@45.137.151.98
pm2 logs devblog
```

## –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ Nginx:

```
IP_–ê–î–†–ï–° - - [–î–ê–¢–ê] "–ú–ï–¢–û–î URL HTTP/–í–ï–†–°–ò–Ø" –ö–û–î_–û–¢–í–ï–¢–ê –†–ê–ó–ú–ï–† "REFERER" "USER_AGENT"
```

–ü—Ä–∏–º–µ—Ä:
```
95.82.66.216 - - [16/Nov/2025:09:29:35 +0000] "GET /api/articles HTTP/1.1" 200 16587 "http://45.137.151.98/" "Mozilla/5.0..."
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è:
```bash
ssh root@45.137.151.98
grep "$(date +%d/%b/%Y)" /var/log/nginx/access.log | awk '{print $1}' | sort | uniq | wc -l
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Å–∞–º:
```bash
ssh root@45.137.151.98
awk '{print $4}' /var/log/nginx/access.log | cut -d: -f1 | sort | uniq -c
```

### –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫:
```bash
ssh root@45.137.151.98
grep -E " (4[0-9]{2}|5[0-9]{2}) " /var/log/nginx/access.log | tail -20
```


