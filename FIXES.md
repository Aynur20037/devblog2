# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ DevBlog

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `client/vite.config.js`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω `host: '0.0.0.0'` –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω `open: true` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω `strictPort: false` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ –ø—Ä–∏ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω proxy –¥–ª—è `/uploads` –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ development

```javascript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    host: '0.0.0.0',
    port: 3000,
    strictPort: false,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:5000',
        changeOrigin: true
      },
      '/uploads': {
        target: 'http://localhost:5000',
        changeOrigin: true
      }
    }
  }
})
```

### 2. `server/index.js`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ production
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ `client/dist` –≤ production
- –î–æ–±–∞–≤–ª–µ–Ω fallback –¥–ª—è React Router (SPA routing)

```javascript
// Serve static files from React app in production
if (process.env.NODE_ENV === 'production') {
  app.use(express.static(path.join(__dirname, '../client/dist')));
  
  // Handle React routing, return all requests to React app
  app.get('*', (req, res) => {
    res.sendFile(path.join(__dirname, '../client/dist/index.html'));
  });
}
```

### 3. `client/src/pages/Home.jsx`
**–ü—Ä–æ–±–ª–µ–º–∞:** –•–∞—Ä–¥–∫–æ–¥ `http://localhost:5000` –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å

```jsx
// –ë—ã–ª–æ:
<img src={`http://localhost:5000${article.coverImage}`} alt={article.title} />

// –°—Ç–∞–ª–æ:
<img src={article.coverImage} alt={article.title} />
```

### 4. `client/src/pages/Article.jsx`
**–ü—Ä–æ–±–ª–µ–º–∞:** –•–∞—Ä–¥–∫–æ–¥ `http://localhost:5000` –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å

```jsx
// –ë—ã–ª–æ:
<img src={`http://localhost:5000${article.coverImage}`} alt={article.title} />

// –°—Ç–∞–ª–æ:
<img src={article.coverImage} alt={article.title} />
```

### 5. `client/src/pages/Profile.jsx`
**–ü—Ä–æ–±–ª–µ–º–∞:** –•–∞—Ä–¥–∫–æ–¥ `http://localhost:5000` –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å

```jsx
// –ë—ã–ª–æ:
<img src={`http://localhost:5000${article.coverImage}`} alt={article.title} />

// –°—Ç–∞–ª–æ:
<img src={article.coverImage} alt={article.title} />
```

## üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### 1. `start.sh` - –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ development —Ä–µ–∂–∏–º–µ

### 2. `deploy.sh` - –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä 45.137.151.98

### 3. `setup-server.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π)
–°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ SSH

### 4. `setup-server-remote.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```bash
./start.sh
```

### –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
./setup-server.sh

# 2. –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./deploy.sh
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:
- ‚úÖ `server/index.js` - OK
- ‚úÖ `server/routes/*.js` - OK
- ‚úÖ `client/vite.config.js` - OK
- ‚úÖ –°–±–æ—Ä–∫–∞ frontend - OK

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í development —Ä–µ–∂–∏–º–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ Vite proxy
- –í production —Ä–µ–∂–∏–º–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ nginx proxy
- –í—Å–µ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Ç–µ–ø–µ—Ä—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö

